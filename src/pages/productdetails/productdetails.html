<!--
  Generated template for the ProductdetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>Product Info</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-card>
    <img style="height: 250px;width: 250px" src="{{iimage || loader}}" imageViewer />
    <ion-card-content>
      <ion-card-title>
        <b>{{iname}}</b>
      </ion-card-title>
      <p>
        <ion-note>{{ides}}</ion-note>
      </p>
      <p>By <a (click)="getUser(imail)">{{imail}}</a></p>
      <p>Starting Bid Price: {{iprice}}</p>

      <div *ngIf="bidstatus; else elseBlock ">
        <p>Present Bid Price: {{bprice}}</p>
      </div>
      <ng-template #elseBlock>
        <ion-note>
          <p>No bids yet.</p>
        </ion-note>
      </ng-template>

      <p>Ends on {{idate| date:'medium' }}</p>
    </ion-card-content>
  </ion-card>


  <div *ngIf="user">

    <div *ngIf="!authuser; else trueBlock">
      <br>
      <button ion-button outline block (click)="loginFirst()">Bid Now</button>

    </div>

    <ng-template #trueBlock>

      <ion-list>
        <br>
        <button *ngIf="!bidinput" ion-button outline block (click)="bidinput=true">Bid Now</button>
        <div *ngIf="bidinput">
          <form (submit)=bidnow()>
            <ion-item>
              <ion-input type="number" name="bidprice" [(ngModel)]="bidprice" placeholder="Enter your bid price here..."></ion-input>
            </ion-item><br>

            <button ion-button outline block type="submit">Bid Now</button>
          </form>
        </div>
      </ion-list>
    </ng-template>




  </div>


</ion-content>
